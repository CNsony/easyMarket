(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{204:function(e,t,n){"use strict";var a=n(16),i=n(22),r=n(27),c=n(25),o=n(26),s=n(77),l=n(1),m=n.n(l),u=(n(207),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={isLoad:!1,isLoading:!1},n.handler=n.handler.bind(Object(s.a)(Object(s.a)(n))),n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handler(),window.addEventListener("scroll",this.handler)}},{key:"handler",value:function(){var e=this;if(this.state.isLoading)window.removeEventListener("scroll",this.handler);else{var t=this.props,n=t.offSetTop,a=t.realUrl,i=window.scrollY+document.documentElement.clientHeight-n;if(this.refs.imgLazyLoad.offsetTop<i){var r=new Image;r.src=a,this.setState({isLoading:!0}),new Promise(function(e,t){r.onload=function(){e(r)}}).then(function(t){e.setState({isLoad:!0})})}}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handler)}},{key:"render",value:function(){var e=this.state.isLoad,t=this.props,n=t.realUrl,a=t.initUrl,i=e?n:a;return m.a.createElement("img",{ref:"imgLazyLoad",className:e?"imgLazyload loadEnd":"imgLazyload loading",src:i,alt:"imgLazyLoad"})}}]),t}(l.Component));u.defaultProps={offSetTop:40,initUrl:"https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg"},t.a=u},205:function(e,t,n){"use strict";var a=n(16),i=n(22),r=n(27),c=n(25),o=n(26),s=n(1),l=n.n(s),m=(n(206),function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"clickLeft",value:function(){this.props.clickLeft()}},{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"left",onClick:this.clickLeft.bind(this)},this.props.left),l.a.createElement("div",{className:"title"},this.props.title),l.a.createElement("div",{className:"right"},this.props.right))}}]),t}(s.Component));m.defaultProps={clickLeft:function(){return null},left:l.a.createElement("i",{className:"iconfont icon-i-left"}),right:null,title:"\u6807\u9898"},t.a=m},206:function(e,t,n){},207:function(e,t,n){},210:function(e,t,n){"use strict";var a=n(1),i=n.n(a),r=n(4),c=n.n(r),o=n(19),s=n.n(o),l=n(46),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=a=u(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!p(e)){e.preventDefault();var t=a.context.router.history,n=a.props,i=n.replace,r=n.to;i?t.replace(r):t.push(r)}},u(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var r=this.context.router.history,c="string"===typeof t?Object(l.a)(t,null,null,r.location):t,o=r.createHref(c);return i.a.createElement("a",m({},a,{onClick:this.handleClick,href:o,ref:n}))},t}(i.a.Component);f.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},t.a=f},212:function(e,t,n){"use strict";var a=n(16),i=n(22),r=n(27),c=n(25),o=n(26),s=n(1),l=n.n(s),m=(n(213),function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.commentList;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"commentList"},e.map(function(e,t){return l.a.createElement("div",{className:"commentItem",key:e.content+t},l.a.createElement("div",{className:"userInfo"},l.a.createElement("div",null,"user_info"in e&&"username"in e.user_info?e.user_info.username:"\u533f\u540d\u7528\u6237"),l.a.createElement("div",null,e.add_time)),l.a.createElement("div",{className:"userComment"},e.content),l.a.createElement("div",{className:"commentPicList"},e.pic_list.map(function(e){return l.a.createElement("img",{src:e.pic_url,key:e.id,alt:e.id})})))})))}}]),t}(s.Component));t.a=m},213:function(e,t,n){},252:function(e,t,n){},253:function(e,t){e.exports="data:image/png;base64,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"},285:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchData",function(){return O});var i=n(7),r=n(16),c=n(22),o=n(27),s=n(25),l=n(26),m=n(1),u=n.n(m),p=n(205),f=n(212),d=n(210),h=n(203),v=(n(252),n(35)),b=n(21),y=n(2);function O(e){return{type:y.a.TOPOICDETAIL_GETDATA_REQUEST,id:e}}var A=n(253),g=n.n(A),j=n(204),E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"goBack",value:function(){this.props.history.go(-1)}},{key:"componentWillMount",value:function(){var e=this.props.match.params.id;this.getTopicMsg(e)}},{key:"postWrite",value:function(){var e=this.props,t=e.history.push,n=e.match.params.id;t("/topicCommentWrite/".concat(n))}},{key:"getTopicMsg",value:function(e){this.props.actions.fetchData(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.match.params.id,a=t.topicDetail,i=a.title,r=a.content,c=t.topicComment,o=t.topicRelateds,s=t.topicCommentCount;return u.a.createElement("div",{className:"topicDetail"},u.a.createElement(p.a,{clickLeft:this.goBack.bind(this),title:i}),u.a.createElement("div",{dangerouslySetInnerHTML:{__html:r},className:"topicDetailImg"}),u.a.createElement("div",{className:"commentWrap"},u.a.createElement("div",{className:"titleLine"},u.a.createElement("div",{className:"titleName"},"\u7cbe\u9009\u7559\u8a00"),u.a.createElement("div",{className:"titleIcon",onClick:this.postWrite.bind(this)},u.a.createElement("i",{className:"iconfont icon-pencil","aria-hidden":"true"}))),s>0?u.a.createElement(m.Fragment,null,u.a.createElement(f.a,{commentList:c})):u.a.createElement("div",{className:"noComment"},u.a.createElement("div",{className:"noCommentIcon"},u.a.createElement("img",{src:g.a,alt:""}),u.a.createElement("div",null,"\u7b49\u4f60\u6765\u7559\u8a00"))),s>5?u.a.createElement(d.a,{to:"/comment/".concat(n,"?typeId=1"),className:"moreComment"},"\u67e5\u770b\u66f4\u591a\u8bc4\u8bba"):null),u.a.createElement("div",{className:"relateTopic"},u.a.createElement("div",{className:"relateTopicTitle"},"\u63a8\u8350\u4e13\u9898"),o.map(function(t){return u.a.createElement("div",{className:"relateTopicItem",onClick:e.getTopicMsg.bind(e,t.id),key:t.id},u.a.createElement(j.a,{offSetTop:44,realUrl:t.scene_pic_url}),u.a.createElement("div",null,t.title))})))}}]),t}(m.Component);t.default=Object(h.a)(Object(v.b)(function(e,t){return Object(i.a)({},e.topicDetail)},function(e){return{actions:Object(b.b)(a,e)}})(E))}}]);
//# sourceMappingURL=8.490b2de9.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{204:function(t,e,a){"use strict";var n=a(16),r=a(22),i=a(27),o=a(25),c=a(26),s=a(77),l=a(1),u=a.n(l),d=(a(207),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(i.a)(this,Object(o.a)(e).call(this,t))).state={isLoad:!1,isLoading:!1},a.handler=a.handler.bind(Object(s.a)(Object(s.a)(a))),a}return Object(c.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.handler(),window.addEventListener("scroll",this.handler)}},{key:"handler",value:function(){var t=this;if(this.state.isLoading)window.removeEventListener("scroll",this.handler);else{var e=this.props,a=e.offSetTop,n=e.realUrl,r=window.scrollY+document.documentElement.clientHeight-a;if(this.refs.imgLazyLoad.offsetTop<r){var i=new Image;i.src=n,this.setState({isLoading:!0}),new Promise(function(t,e){i.onload=function(){t(i)}}).then(function(e){t.setState({isLoad:!0})})}}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handler)}},{key:"render",value:function(){var t=this.state.isLoad,e=this.props,a=e.realUrl,n=e.initUrl,r=t?a:n;return u.a.createElement("img",{ref:"imgLazyLoad",className:t?"imgLazyload loadEnd":"imgLazyload loading",src:r,alt:"imgLazyLoad"})}}]),e}(l.Component));d.defaultProps={offSetTop:40,initUrl:"https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg"},e.a=d},205:function(t,e,a){"use strict";var n=a(16),r=a(22),i=a(27),o=a(25),c=a(26),s=a(1),l=a.n(s),u=(a(206),function(t){function e(){return Object(n.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"clickLeft",value:function(){this.props.clickLeft()}},{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"left",onClick:this.clickLeft.bind(this)},this.props.left),l.a.createElement("div",{className:"title"},this.props.title),l.a.createElement("div",{className:"right"},this.props.right))}}]),e}(s.Component));u.defaultProps={clickLeft:function(){return null},left:l.a.createElement("i",{className:"iconfont icon-i-left"}),right:null,title:"\u6807\u9898"},e.a=u},206:function(t,e,a){},207:function(t,e,a){},208:function(t,e,a){"use strict";var n=a(16),r=a(22),i=a(27),o=a(25),c=a(26),s=a(1),l=a.n(s),u=a(210),d=(a(209),a(204)),f=function(t){function e(){return Object(n.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props.goodsList;return l.a.createElement("div",{className:"goodsList"},t.map(function(t){return l.a.createElement(u.a,{to:"/goods/".concat(t.id),key:t.id,className:"goodsItem"},l.a.createElement("div",{className:"goodsItemImg"},l.a.createElement(d.a,{offSetTop:44,realUrl:t.list_pic_url})),l.a.createElement("div",{className:"goodsItemName"},t.name),l.a.createElement("div",{className:"goodsItemPrice"},"\uffe5",t.retail_price,"\u5143"))}))}}]),e}(s.Component);e.a=f},209:function(t,e,a){},211:function(t,e,a){"use strict";a.r(e),a.d(e,"fetchCount",function(){return r}),a.d(e,"fetchGoodsData",function(){return i});var n=a(2);function r(t){return{type:n.a.GOODS_COUNT_GETDATA_REQUSET,parmas:t}}function i(t){return{type:n.a.GOODS_LIST_GETDATA_REQUSET,parmas:t}}},248:function(t,e,a){},287:function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"fetchNavData",function(){return y});var r=a(7),i=(a(225),a(227)),o=a(16),c=a(22),s=a(27),l=a(25),u=a(26),d=a(1),f=a.n(d),m=a(208),h=a(203),p=(a(248),a(205)),g=a(35),v=a(21),b=a(2);function y(t){return{type:b.a.CATAGORY_NAV_GETDATA_REQUEST,parmas:t}}var E=a(211),O=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={page:0,currentCategoryId:0},a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"goBack",value:function(t){this.props.history.go(-1)}},{key:"componentWillMount",value:function(){var t=this.props,e=t.actions.fetchNavData,a=t.match.params.id,n=t.goodsAction.fetchGoodsData;this.setState({currentCategoryId:a}),n({page:1,size:1e3,categoryId:a}),e({id:a})}},{key:"clickTab",value:function(t,e){var a=t.id;if(this.state.currentCategoryId!==a){this.setState({page:e,currentCategoryId:a});var n=this.props,r=n.actions.fetchNavData;(0,n.goodsAction.fetchGoodsData)({page:1,size:1e3,categoryId:a}),r({id:a}),window.scrollTo(0,0)}}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.brotherCategory.forEach(function(t,a){t.id===Number(e.state.currentCategoryId)&&e.setState({page:a})})}},{key:"render",value:function(){var t=this.props,e=t.brotherCategory,a=t.currentCategory,n=t.goodsList,r=this.state,o=r.page,c=r.currentCategoryId;return f.a.createElement(d.Fragment,null,f.a.createElement(p.a,{clickLeft:this.goBack.bind(this,c),title:"\u5947\u8da3\u5206\u7c7b"}),f.a.createElement("div",{className:"tabWrap"},f.a.createElement(i.a,{tabs:e,page:o,onTabClick:this.clickTab.bind(this),renderTab:function(t){return f.a.createElement("div",{className:"tabsItem"},t.name)}})),f.a.createElement("div",{className:"categoryDetail"},f.a.createElement("div",null,a.name),f.a.createElement("div",null,a.front_name)),f.a.createElement("div",{className:"goodsList"},f.a.createElement(m.a,{goodsList:n})))}}]),e}(d.Component);e.default=Object(h.a)(Object(g.b)(function(t,e){return Object(r.a)({},t.catrgorys,{goodsList:t.goods.goodsList})},function(t){return{actions:Object(v.b)(n,t),goodsAction:Object(v.b)(E,t)}})(O))}}]);
//# sourceMappingURL=10.fdad7def.chunk.js.map